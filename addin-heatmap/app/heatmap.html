<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Heat Map</title>

  <!-- build:css styles/vendor.css -->
  <!-- bower:css -->
  <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css">
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="styles/spinner.css">
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->

  <!-- build:js scripts/vendor.js -->
  <!-- bower:js -->
  <script src="bower_components/leaflet/dist/leaflet.js"></script>
  <script src="bower_components/leaflet.heat/dist/leaflet-heat.js"></script>
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:js scripts/main.js -->
  <script src="scripts/main.js"></script>
  <!-- endbuild -->
</head>

<body>
  
  <div id="heatmap" style="height: calc(100%)">
    <div id="disclaimer">
      <label id="disclaimerLabel">Sample add-in/tool</label>
      <p>This tool is provided as an example and is available on an As-Is basis. You must assume all the risks and
          costs associated with the use of the sample tool, including, without limitation, any damage to any
          equipment, software, information or data. In addition, we are not obligated to provide any maintenance,
          technical or other support for the sample tool. In order to improve our products, we may at any time,
          and without warning, change the design, presentation, or functionality of the software.</p>
    </div>

    <div class="cssGrid sm-part-12">
      <div class="lg-part-2 md-part-3 sm-part-12">
        <div id="controls">

          <h2>Heatmap</h2>
          <p>
            This example demonstrates how to create an add-in to visualize location or exception
            (rule violation) history using a heat map.
          </p>

          <label for="visualizeBy">Visualize by:</label>
          <input type="radio" id="visualizeByLocationHistory" name="visualizeBy" value="locationHistory" checked> Location History
          <input type="radio" id="visualizeByExceptionHistory" name="visualizeBy" value="exceptionHistory"> Exception History

          <label for="exceptionTypes">Rule:</label>
          <select id="exceptionTypes" class="checkmateFormEditField" ng-mousedown="selectType($event)" disabled>
              <option disabled="disabled">Select a rule</option>
          </select>

          <label for="vehicles">Vehicle(s):</label>
          <select id="vehicles" class="checkmateFormEditField" multiple="true"
            ng-mousedown="selectType($event)">
          </select>

          <label for="from">From:</label>
          <input id="from" type="datetime-local" class="checkmateFormEditField" />

          <label for="to">To:</label>
          <input id="to" type="datetime-local" class="checkmateFormEditField" />
          <div style="margin:1em"></div>
          <input type="submit" value="Show Heat Map" id="showHeatMap">
          <div id="error"></div>
          <div id="message"></div>

          <div id="loading" class="spinner" style="display:none">
              <div></div>
              <div></div>
              <div></div>
          </div>

          <div>
            <h3>Instructions</h3>
            <ol>
              <li>Choose to visualize by <i>location history</i> or <i>exception history</i>.</li>
              <li>If visualizing by exception history, select a rule for which to search for exceptions.</li>
              <li>Select the vehicle(s) to search on.</li>
              <li>Specify a date/time range.</li>
              <li>Click the <i>Show Heat Map</i> button to update the map.</li>
              <li>After applying any changes to the MyGeotab Groups Filter, refresh the page to apply the filter to the list of vehicles and repeat the above steps.</li>
            </ol>
            <p>
              When selecting veicles, use CTRL+Click to select/deselect individual vehicles 
              or SHIFT+Click to select a range of vehicles.  To select all vehicles in the
              list, first select one and then use CTRL+A.
            </p>
  
          </div>
        </div>
      </div>
      <div class="lg-part-10 md-part-9 sm-part-12">
          <div id="heatmap-map" style="width:100%"></div>
          <!-- DATA OUTPUT SECTION ADDED BELOW -->
          <div id="dataOutputContainer" style="margin-top:20px;">
            <h3>Data Output</h3>
            <pre id="dataRaw" style="background:#f9f9f9; padding:10px; border:1px solid #ccc;"></pre>
            <div id="dataStats"></div>
          </div>
      </div>
    </div>
  </div>
</body>

</html>
